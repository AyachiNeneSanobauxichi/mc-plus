// 导入变量
@use "./variables" as *;

// 表格相关的公用样式混入

// 基础单元格样式
@mixin table-cell-base {
  padding: $table-cell-padding;
  min-width: 0;
  box-sizing: border-box;
  text-overflow: ellipsis;
  vertical-align: middle;
  position: relative;
  text-align: left;
  font-weight: 400;
  font-size: $table-font-size;
  line-height: $table-line-height;
  letter-spacing: 0;
  color: var(--mc-gray-800);
  border-bottom: 1px solid var(--mc-gray-300);
}

// 表头单元格样式
@mixin table-header-cell {
  padding: $table-header-padding;
  white-space: nowrap;
  overflow: hidden;
  user-select: none;
  font-weight: 600;
  font-size: $table-header-font-size;
  line-height: $table-header-line-height;
  color: var(--mc-gray-500);
  border-bottom: 1px solid var(--mc-gray-500);
  box-sizing: border-box;
  cursor: pointer;
}

// 文本对齐
@mixin table-alignment($align) {
  &.is-#{$align} {
    text-align: #{$align};
  }
}

// 固定列位置
@mixin table-fixed-position($position) {
  &.is-fixed-#{$position} {
    position: sticky;
    #{$position}: 0;
    z-index: $table-fixed-z-index;
    background-color: var(--mc-white);
  }
}

// 悬停状态
@mixin table-hover-state($bg-color) {
  &:hover {
    background-color: var(#{$bg-color});
  }
}

// 行状态样式
@mixin table-row-state($state, $bg-color, $hover-color) {
  &.is-#{$state} {
    background-color: var(#{$bg-color});

    @include table-hover-state(#{$hover-color});
  }
}

// 分页按钮基础样式
@mixin pagination-button-base {
  display: inline-flex;
  align-items: center;
  justify-content: center;
  min-width: $pagination-button-size;
  height: $pagination-button-size;
  padding: $pagination-button-padding;
  background-color: var(--mc-white);
  border: 1px solid var(--mc-gray-300);
  color: var(--mc-gray-600);
  cursor: pointer;
  border-radius: var(--mc-radius);
  transition: all var(--mc-transition-duration);
  font-size: $table-font-size;
  font-weight: 400;
}

// 分页按钮悬停状态
@mixin pagination-button-hover {
  &:hover:not(:disabled) {
    background-color: var(--mc-gray-100);
    border-color: var(--mc-purple-500);
    // color: var(--mc-purple-500);
  }
}

// 分页按钮禁用状态
@mixin pagination-button-disabled {
  &:disabled {
    color: var(--mc-gray-400);
    border-color: var(--mc-gray-300);
    cursor: not-allowed;
    background-color: var(--mc-gray-100);
  }
}

// 分页按钮激活状态
@mixin pagination-button-active {
  &.is-active {
    background-color: var(--mc-purple-500);
    border-color: var(--mc-purple-900);
    color: var(--mc-white);
    font-weight: 500;

    &:hover {
      background-color: var(--mc-purple-500);
      border-color: var(--mc-purple-900);
    }
  }
}

// 表格边框样式
@mixin table-border {
  border: 1px solid var(--mc-gray-300);
  border-right: none;
  border-bottom: none;

  &::after {
    content: "";
    position: absolute;
    left: 0;
    bottom: 0;
    width: 100%;
    height: 1px;
    background-color: var(--mc-gray-300);
    z-index: $table-border-z-index;
  }

  &::before {
    content: "";
    position: absolute;
    top: 0;
    right: 0;
    width: 1px;
    height: 100%;
    background-color: var(--mc-gray-300);
    z-index: $table-border-z-index;
  }
}

// 排序图标样式
@mixin sort-icon-base {
  display: block;
  font-size: $sort-icon-size;
  color: var(--mc-gray-400);
  transition: $table-color-transition;

  &.is-active {
    color: var(--mc-purple-500);
  }
}

// 可排序表头样式
@mixin sortable-header {
  cursor: pointer;
  user-select: none;

  @include table-hover-state(--mc-gray-100);

  &:hover .mc-table__sort-icon:not(.is-active) {
    color: var(--mc-gray-600);
  }
}

// Loading 遮罩样式
@mixin loading-overlay {
  position: absolute;
  top: 0;
  left: 0;
  width: 100%;
  height: 100%;
  background-color: $loading-overlay-bg;
  display: flex;
  align-items: center;
  justify-content: center;
  z-index: $table-loading-z-index;
}
